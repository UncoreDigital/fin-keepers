<div
  id="contact-section"
  class="main-container w-full min-h-[622px] z-[50] relative mx-auto my-0 px-4 py-10 lg:py-0 cta"
  id="contact-form"
>
  <div
    class="max-w-[1320px] mx-auto h-auto lg:h-[715px] bg-[#106253] rounded-[20px] lg:rounded-[30px] relative flex flex-col lg:flex-row items-center justify-between px-4 lg:px-0 pb-8 lg:pb-20"
  >
    <div class="lg:pb-20 divContactUs" id="divContactUs">
      <!-- Form Section -->
      <div
        class="w-full lg:w-[470px] lg:h-[560px] flex flex-col gap-[24px] lg:gap-[32px] items-start mt-6 lg:mt-[80px] lg:ml-[60px] z-2"
      >

        <div class="h-20 hidden sm:block"></div>
        <div class="flex flex-col gap-[12px] items-start">
          <span class="text-[24px] sm:text-[28px] md:text-[32px] lg:text-[36px] font-bold leading-tight tracking-tight text-[#fff] font-['Inter']"
            >If You Are Ready To Trust Us, Let's Grow Together…
          </span>
          <span class="text-[16px] **font-normal** leading-tight tracking-tight text-[#fff] font-['Inter']"
            >
Ready for stress-free bookkeeping and smarter financial decisions? Connect with your Finkeepers pod now.
          </span>
        </div>
        <form id="contact-form-submit" class="w-full flex flex-col gap-[16px] lg:gap-[24px]">
          <!-- Name -->
          <div class="relative w-full">
            <label for="name" class="text-white text-[16px] font-['Inter']">Name</label>
            <input
              type="text"
              id="name"
              name="name"
              required
              class="w-full bg-[#106253] border-b border-white text-white mt-1 py-2 px-2 outline-none font-['Inter'] placeholder:text-white/50"
              placeholder="Enter your name"
            />
          </div>
          <!-- Email -->
          <div class="relative w-full">
            <label for="email" class="text-white text-[16px] font-['Inter']">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full bg-[#106253] border-b border-white text-white mt-1 py-2 px-2 outline-none font-['Inter'] placeholder:text-white/50"
              placeholder="Enter your email"
            />
          </div>
          <!-- Message -->
          <div class="relative w-full">
            <label for="message" class="text-white text-[16px] font-['Inter']">Message</label>
            <textarea
              id="message"
              name="message"
              rows="4"
              required
              class="w-full bg-[#106253] border-b border-white text-white mt-1 py-2 px-2 outline-none font-['Inter'] placeholder:text-white/50"
              placeholder="Your message here..."></textarea>
          </div>
          <!-- Submit Button -->
          <button
            type="submit"
            class="bg-[#ed7c00] text-white font-semibold text-[18px] font-['Inter'] rounded-[8px] py-[12px] px-[30px] self-start w-full border border-transparent hover:bg-transparent hover:border-white hover:text-white hover:cursor-pointer transition duration-300 mb-6 md:mb-0"
          >
            Talk to our Experts
          </button>
          <div id="form-message" class="text-white text-sm font-['Inter'] hidden"></div>
        </form>
      </div>

      <!-- Right Side Box -->

    <div
  class="w-full lg:w-[2000px] lg:absolute lg:top-[24px] lg:left-[600px] lg:h-[500px] z-20 flex flex-col justify-start mt-8 lg:mt-0"
>
  
  <div class="bg-white rounded-[15px] p-3 lg:p-4 mx-4 lg:ml-[40px] mt-4 lg:mt-[60px] w-auto lg:w-fit">
    <div
      class="w-full max-w-[600px] h-[250px] sm:h-[350px] lg:w-[600px] lg:h-[450px] bg-[url(https://codia-f2c.s3.us-west-1.amazonaws.com/image/2025-07-26/dtf0PMDgco.png)] bg-cover bg-no-repeat rounded-[10px] mx-auto group cursor-pointer"
      style="background-position: 30% 40%;"
    >
    <!-- Address overlay - visible on hover -->
    <div class="w-full h-full bg-[#ed7c00] bg-opacity-80 rounded-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
      <div class="text-center text-white p-4">
        <div class="flex items-center justify-center gap-2 mb-2">
          <svg class="w-[20px] h-[24px] fill-white" viewBox="0 0 24 24">
            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
          </svg>
        </div>
        <p class="text-[12px] sm:text-[14px] font-['Inter'] leading-tight tracking-tight">
          30 N Gould ST STE R, Sheridan, Wyoming, 82801<br />
          United States of America
        </p>
      </div>
    </div>
  </div>

  </div>
</div>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  window.addEventListener("DOMContentLoaded", () => {
    const ctaEl = document.querySelector(".cta");
    if (!ctaEl) return;

    gsap.from(ctaEl, {
      opacity: 0,
      y: 50, // start 50px lower
      duration: 0.8,
      ease: "power2.out",
      scrollTrigger: {
        trigger: ctaEl,
        start: "top 50%",
        once: true,
      },
    });

    // Contact form submission
    const form = document.getElementById("contact-form-submit");
    const formMessage = document.getElementById("form-message");
    
    if (form) {
      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        
        const formData = new FormData(form);
        const data = {
          name: formData.get("name"),
          email: formData.get("email"),
          message: formData.get("message"),
        };

        // Show loading state
        const submitButton = form.querySelector("button[type='submit']");
        const originalText = submitButton?.textContent;
        if (submitButton) {
          submitButton.disabled = true;
          submitButton.textContent = "Sending...";
        }

        try {
          // Using Web3Forms API as a reliable backend solution
          const response = await fetch("https://api.web3forms.com/submit", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Accept: "application/json",
            },
            body: JSON.stringify({
              access_key: "YOUR_WEB3FORMS_ACCESS_KEY", // Replace with actual access key from web3forms.com
              subject: "New Contact Form Submission - FinKeepers",
              from_name: data.name,
              email: data.email,
              message: data.message,
            }),
          });

          const result = await response.json();

          if (result.success) {
            formMessage.textContent = "Thank you! Your message has been sent successfully.";
            formMessage.classList.remove("hidden", "text-red-500");
            formMessage.classList.add("text-green-400");
            form.reset();
          } else {
            throw new Error(result.message || "Failed to send message");
          }
        } catch (error) {
          formMessage.textContent = "Sorry, there was an error sending your message. Please try again or contact us directly at info@finkeepers.us";
          formMessage.classList.remove("hidden", "text-green-400");
          formMessage.classList.add("text-red-500");
          console.error("Form submission error:", error);
        } finally {
          if (submitButton) {
            submitButton.disabled = false;
            submitButton.textContent = originalText || "Talk to our Experts";
          }
          
          // Hide message after 5 seconds
          setTimeout(() => {
            formMessage.classList.add("hidden");
          }, 5000);
        }
      });
    }
  });
</script>
