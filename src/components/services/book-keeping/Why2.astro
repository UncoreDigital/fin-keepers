---
import WhyImage from "../../../assets/services/book-keeping/why.png";
import WhyImage_2 from "../../../assets/services/book-keeping/why_2.png";
---

<style>
  @keyframes fade-up {
    0% {
      opacity: 0;
      transform: translateY(40px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-up {
    animation: fade-up 0.8s ease-out forwards;
  }
</style>

<div
  class="main-container flex flex-col lg:flex-row w-full max-w-[1440px] px-4 sm:px-6 lg:px-[120px] pt-[80px] pb-[40px] gap-[24px] justify-center items-start mx-auto relative"
>
  <div
    class="flex flex-col lg:flex-row gap-[48px] items-center grow shrink-0 basis-0"
  >
    <div class="flex flex-col gap-[32px] items-center grow shrink-0 basis-0">
      <div class="flex flex-col gap-[32px] justify-center items-center w-full">
        <span
          class="animate-on-scroll w-full text-[28px] sm:text-[36px] font-bold leading-[1.2] text-[#04092a] text-left opacity-0"
        >
          Bookkeeping: Much Needed for SMBs and Startups.
        </span>

        <div class="flex flex-col gap-[40px] sm:gap-[60px] items-start w-full">
          <span
            class="animate-on-scroll w-full text-[16px] sm:text-[18px] leading-[27px] text-[#5c667a] text-left opacity-0"
          >
            Finkeepers offer budgeted bookkeeping services for startups, small to mid-sized firms, and PE/VC-backed companies. We deliver GAAP-compliant, audit-ready books and real-time dashboards.
          </span>

          <div
            class="flex flex-col lg:flex-row gap-[32px] lg:gap-[64px] items-center w-full max-w-[1200px]"
          >
            <!-- Image Container with Hover Effect -->
            <div class="relative group w-full lg:w-[576px] h-auto max-h-[350px] sm:max-h-[400px] lg:max-h-none why-image-container mb-5 sm:mb-0">
              <!-- Default Image -->
              <img
                src={WhyImage.src}
                class="animate-on-scroll w-full h-full object-contain rounded-[9.174px] transition-opacity duration-700 ease-in-out opacity-100 group-hover:opacity-0 z-[50] why-main-image"
              />
              <!-- Hover Image -->
              <img
                src={WhyImage_2.src}
                alt="Professional team providing expert financial services"
                class="absolute inset-0 w-full h-full object-contain rounded-[9.174px] transition-opacity duration-700 ease-in-out opacity-0 group-hover:opacity-100 z-[60] why-hover-image"
              />
            </div>
            <!-- Right Text Content -->
            <div
              class="flex flex-col gap-[32px] lg:gap-[40px] items-start w-full lg:w-[576px]"
            >
              {
                [
                  {
                    icon: "/img/services/book-keeping/true.svg",
                    title: "Financial Coherence",
                    desc: "Accurate bookkeeping helps business owners understand cash flow and make informed financial decisions.",
                  },
                  {
                    icon: "https://codia-f2c.s3.us-west-1.amazonaws.com/image/2025-08-02/SpH44HYd49.png",
                    title: "Informed Decision Making",
                    desc: "Accurate records enable better budgeting, investment decisions, and cost management without financial risks.",
                  },
                  {
                    icon: "https://codia-f2c.s3.us-west-1.amazonaws.com/image/2025-08-02/mk48MSUTRM.png",
                    title: "Tax Done Correctly",
                    desc: "Clean tax books ensure accurate, timely filing and help avoid penalties and legal issues.",
                  },
                  {
                    icon: "https://codia-f2c.s3.us-west-1.amazonaws.com/image/2025-08-02/9eSJxKc0ee.png",
                    title: "Confidence of Investors",
                    desc: "Transparent financial statements build trust with investors and banks, essential for funding.",
                  },
                  {
                    icon: "https://codia-f2c.s3.us-west-1.amazonaws.com/image/2025-08-02/rep7JV7fMz.png",
                    title: "Longâ€“term success and stability",
                    desc: "Clean books provide the foundation for long-term business growth and stability.",
                  },
                ].map((item, i) => (
                  <div
                    class="animate-on-scroll flex gap-[16px] items-start w-full opacity-0"
                    style={`transition-delay: ${i * 150}ms`}
                  >
                    <img src={item.icon} alt="FinKeepers" class="w-[32px] h-[32px] shrink-0" />
                    <div class="flex flex-col gap-[8px]">
                      <span class="text-[18px] font-semibold text-[#151515]">
                        {item.title}
                      </span>
                      <p class="text-[16px] text-[#797979]">
                        {item.desc}
                      </p>
                    </div>
                  </div>
                ))
              }
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script is:inline>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("animate-fade-up");
          entry.target.classList.remove("opacity-0");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.2 },
  );

  document.querySelectorAll(".animate-on-scroll").forEach((el) => {
    observer.observe(el);
  });

  // Mobile-only scroll animation for why image
  if ('ontouchstart' in window) {
    const whyContainer = document.querySelector('.why-image-container');
    const mainImage = document.querySelector('.why-main-image');
    const hoverImage = document.querySelector('.why-hover-image');

    if (whyContainer && mainImage && hoverImage) {
      const whyObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            // Swap images after 1 second
            setTimeout(() => {
              mainImage.style.opacity = '0';
              hoverImage.style.opacity = '1';
              
              // Swap back after 2 seconds
              setTimeout(() => {
                mainImage.style.opacity = '1';
                hoverImage.style.opacity = '0';
              }, 2000);
            }, 1000);
          }
        });
      }, { threshold: 0.5 });

      whyObserver.observe(whyContainer);
    }
  }
</script>
