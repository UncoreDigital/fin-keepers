---
import { onMount } from "solid-js"; // Astro supports client:load hydration
---

<div
  class="flex w-full pt-[80px] pb-[80px] px-[20px] md:px-[60px] lg:px-[120px] flex-col gap-[32px] items-center bg-[#fff]"
>
  <span
    class="section-title text-[24px] sm:text-[28px] md:text-[32px] lg:text-[36px] font-bold leading-[1.2] text-[#28241f] text-center w-full opacity-0 translate-y-10"
  >
   Everything You Need to Know About Finance Consulting - FAQs
  </span>

  <div
    class="section-wrapper flex flex-col lg:flex-row gap-[32px] w-full max-w-[1184px] items-start opacity-0 translate-y-10"
  >
    <!-- Left Column -->
    <div class="flex flex-col gap-[20px] w-full lg:w-1/2">
      <!-- Card 1 -->
      <div
        class="accordion-card flex flex-col gap-[16px] bg-white rounded-[16px] border border-[#f5f7fa] shadow-md p-[30px] opacity-0 translate-y-10"
      >
        <div class="flex justify-between items-center w-full">
          <span
            class="text-[18px] font-semibold text-[#212121] leading-[24.3px]"
          >
            How can financial consulting help my business/personal finances?
          </span>
          <button
            data-accordion-toggle
            class="accordion-toggle px-[10px] py-[4px] text-[18px] font-bold leading-[24px] bg-[#f5f7fa] text-[#212121] rounded-[8px] cursor-pointer transition-colors duration-300"
          >
            +
          </button>
        </div>
        <span
          data-accordion-content
          class="text-[16px] font-medium leading-[22px] text-[#797979] hidden"
        >
          Financial consulting helps you make smarter money decisions. For
          businesses, it improves cash flow, reduces taxes, and boosts profits.
          For personal finances, it helps with budgeting, investments, and
          long-term planning like saving for a home or retirement.
        </span>
      </div>

      <!-- Card 2 -->
      <div
        class="accordion-card flex flex-col gap-[16px] bg-white rounded-[16px] border border-[#f5f7fa] shadow-md p-[30px] opacity-0 translate-y-10"
      >
        <div class="flex justify-between items-center w-full">
          <span
            class="text-[18px] font-semibold text-[#212121] leading-[24.3px]"
          >
            What qualifications and certifications do your advisors have?
          </span>
          <button
            data-accordion-toggle
            class="accordion-toggle px-[10px] py-[4px] text-[18px] font-bold leading-[24px] bg-[#f5f7fa] text-[#212121] rounded-[8px] cursor-pointer transition-colors duration-300"
          >
            +
          </button>
        </div>
        <span
          data-accordion-content
          class="text-[16px] font-medium leading-[22px] text-[#797979] hidden"
        >
          Our advisors hold top industry certifications such as CPA, CFA, and
          CFP, ensuring qualified financial expertise.
        </span>
      </div>

      <!-- Card 3 -->
      <div
        class="accordion-card flex flex-col gap-[16px] bg-white rounded-[16px] border border-[#f5f7fa] shadow-md p-[30px] opacity-0 translate-y-10"
      >
        <div class="flex justify-between items-center w-full">
          <span
            class="text-[18px] font-semibold text-[#212121] leading-[24.3px]"
          >
            What is the process for working with your firm?
          </span>
          <button
            data-accordion-toggle
            class="accordion-toggle px-[10px] py-[4px] text-[18px] font-bold leading-[24px] bg-[#f5f7fa] text-[#212121] rounded-[8px] cursor-pointer transition-colors duration-300"
          >
            +
          </button>
        </div>
        <span
          data-accordion-content
          class="text-[16px] font-medium leading-[22px] text-[#797979] hidden"
        >
          The process starts with consultation, followed by a tailored plan,
          onboarding, and continuous financial support.
        </span>
      </div>
    </div>

    <!-- Right Column -->
    <div class="flex flex-col gap-[20px] w-full lg:w-1/2">
      <!-- Card 4 -->
      <div
        class="accordion-card flex flex-col gap-[16px] bg-white rounded-[16px] border border-[#f5f7fa] shadow-md p-[30px] opacity-0 translate-y-10"
      >
        <div class="flex justify-between items-center w-full">
          <span
            class="text-[18px] font-semibold text-[#212121] leading-[24.3px]"
          >
            How do you charge for your services?
          </span>
          <button
            data-accordion-toggle
            class="accordion-toggle px-[10px] py-[4px] text-[18px] font-bold leading-[24px] bg-[#f5f7fa] text-[#212121] rounded-[8px] cursor-pointer transition-colors duration-300"
          >
            +
          </button>
        </div>
        <span
          data-accordion-content
          class="text-[16px] font-medium leading-[22px] text-[#797979] hidden"
        >
          We offer flexible pricing based on project scope and duration. Fixed
          rates or hourly—whatever suits your needs.
        </span>
      </div>

      <!-- Card 5 -->
      <div
        class="accordion-card flex flex-col gap-[16px] bg-white rounded-[16px] border border-[#f5f7fa] shadow-md p-[30px] opacity-0 translate-y-10"
      >
        <div class="flex justify-between items-center w-full">
          <span
            class="text-[18px] font-semibold text-[#212121] leading-[24.3px]"
          >
            Can you provide examples of successful client outcomes?
          </span>
          <button
            data-accordion-toggle
            class="accordion-toggle px-[10px] py-[4px] text-[18px] font-bold leading-[24px] bg-[#f5f7fa] text-[#212121] rounded-[8px] cursor-pointer transition-colors duration-300"
          >
            +
          </button>
        </div>
        <span
          data-accordion-content
          class="text-[16px] font-medium leading-[22px] text-[#797979] hidden"
        >
          Yes, we’ve helped clients increase profitability by 30%, streamline
          taxes, and build strong investment portfolios.
        </span>
      </div>

      <!-- Card 6 -->
      <div
        class="accordion-card flex flex-col gap-[16px] bg-white rounded-[16px] border border-[#f5f7fa] shadow-md p-[30px] opacity-0 translate-y-10"
      >
        <div class="flex justify-between items-center w-full">
          <span
            class="text-[18px] font-semibold text-[#212121] leading-[24.3px]"
          >
            What is your approach to investment planning and management?
          </span>
          <button
            data-accordion-toggle
            class="accordion-toggle px-[10px] py-[4px] text-[18px] font-bold leading-[24px] bg-[#f5f7fa] text-[#212121] rounded-[8px] cursor-pointer transition-colors duration-300"
          >
            +
          </button>
        </div>
        <span
          data-accordion-content
          class="text-[16px] font-medium leading-[22px] text-[#797979] hidden"
        >
          We develop personalized investment strategies based on risk tolerance,
          goals, and timelines, with periodic reviews.
        </span>
      </div>
    </div>
  </div>
</div>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  // Accordion open/close
  document.querySelectorAll("[data-accordion-toggle]").forEach((btn) => {
    btn.addEventListener("click", () => {
      const card = btn.closest(".accordion-card");
      if (!(card instanceof HTMLElement)) return;

      const content = card.querySelector("[data-accordion-content]");
      if (!(content instanceof HTMLElement)) return;

      const isOpen = !content.classList.contains("hidden");

      document.querySelectorAll("[data-accordion-content]").forEach((el) => {
        if (el instanceof HTMLElement) el.classList.add("hidden");
      });
      document.querySelectorAll("[data-accordion-toggle]").forEach((el) => {
        if (el instanceof HTMLElement) {
          el.classList.remove("!bg-[#ed7c00]", "text-white");
          el.textContent = "+";
        }
      });

      if (!isOpen) {
        content.classList.remove("hidden");
        btn.classList.add("!bg-[#ed7c00]", "text-white");
        btn.textContent = "–";
      }
    });
  });

  // Scroll animations
  gsap.utils.toArray(".section-title, .section-wrapper, .accordion-card").forEach(
    (el, i) => {
      gsap.to(el, {
        opacity: 1,
        y: 0,
        duration: 0.8,
        delay: i * 0.15,
        scrollTrigger: {
          trigger: el,
          start: "top 85%",
        },
      });
    }
  );
</script>
